<!DOCTYPE html>
<html>
<head>
    <title>Music Player</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'">
</head>
<body>
    <audio id="audioPlayer" controls>
        Your browser does not support the audio element.
    </audio>

    <script>
        const loadAudio = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const trackId = urlParams.get('track');
            
            if(!trackId) {
                document.body.innerHTML = "<h1>Add ?track=filename to URL</h1>";
                return;
            }

            const audio = document.getElementById('audioPlayer');
            audio.src = ${trackId}.mp3;
            
            audio.play().catch(error => {
                const btn = document.createElement('button');
                btn.textContent = 'Play Music';
                btn.onclick = () => audio.play();
                document.body.appendChild(btn);
            });
        }

        // Запускаем после полной загрузки страницы
        window.onload = loadAudio;
    </script>
</body>
</html>
